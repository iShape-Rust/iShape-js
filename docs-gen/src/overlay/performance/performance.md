# Performance Comparison

Benchmark project is [here](https://github.com/iShape-Rust/iOverlayPerformance).

All tests were run on a machine with the following specifications:  
**3 GHz 6-Core Intel Core i5, 40GB 2667 MHz DDR4**  

All results are presented in seconds.

## Solvers:

- **iOverlay(Rust)** v1.6.0 (multithreading on/off)
- **iOverlay(Swift)**  v1.13.0
- **Clipper2(C++)**  v1.4.0


## Checkerboard Test

![Checkerboard Test](test_0.svg)

| Squares | iOverlay(Swift) | iOverlay(Rust) MT off       | iOverlay(Rust) MT on         | Clipper2(C++)        |
|---------|-----------------|-----------------------------|------------------------------|----------------------|
| 5       | 0.000014        | 0.000007                    | 0.000007                     | 0.000007             |
| 25      | 0.000100        | 0.000038                    | 0.000038                     | 0.000038             |
| 113     | 0.000589        | 0.000204                    | 0.000204                     | 0.000208             |
| 481     | 0.004105        | 0.001129                    | 0.001155                     | 0.001017             |
| 1985    | 0.012643        | 0.005325                    | 0.005351                     | 0.005182             |
| 8065    | 0.055664        | 0.025059                    | 0.025410                     | 0.024013             |
| 32513   | 0.234840        | 0.114646                    | 0.108986                     | 0.154054             |
| 130561  | 0.993920        | 0.519019                    | 0.493565                     | 1.067439             |
| 523265  | 4.410302        | 2.434005                    | 2.118753                     | 8.346041             |
| 2095105 | 18.451646       | 9.999720                    | 8.980642                     | 73.312335            |
| 8384513 | 78.719305       | 42.330557                   | 37.829734                    | 644.337867           |


## Not Overlap Test

![Not Overlap Test](test_1.svg)

| Squares | iOverlay(Swift) | iOverlay(Rust) MT off       | iOverlay(Rust) MT on         | Clipper2(C++)        |
|---------|-----------------|-----------------------------|------------------------------|----------------------|
| 5       | 0.000009        | 0.000004                    | 0.000004                     | 0.000005             |
| 25      | 0.000041        | 0.000015                    | 0.000015                     | 0.000021             |
| 113     | 0.000204        | 0.000074                    | 0.000074                     | 0.000097             |
| 481     | 0.001052        | 0.000385                    | 0.000387                     | 0.000457             |
| 1985    | 0.004978        | 0.001985                    | 0.001991                     | 0.002114             |
| 8065    | 0.021336        | 0.010172                    | 0.010253                     | 0.010783             |
| 32513   | 0.089523        | 0.045911                    | 0.045733                     | 0.056281             |
| 130561  | 0.375594        | 0.196098                    | 0.192218                     | 0.369146             |
| 523265  | 1.663087        | 0.894795                    | 0.863457                     | 2.695334             |
| 2095105 | 6.947932        | 3.817466                    | 3.677910                     | 20.665812            |
| 8384513 | 28.777569       | 16.700253                   | 15.574704                    | 167.966801           |


## Lines Net Test

![Lines Net Test](test_2.svg)

| Lines   | iOverlay(Swift) | iOverlay(Rust) MT off       | iOverlay(Rust) MT on         | Clipper2(C++)        |
|---------|-----------------|-----------------------------|------------------------------|----------------------|
| 4       | 0.000014        | 0.000006                    | 0.000006                     | 0.000004             |
| 8       | 0.000049        | 0.000018                    | 0.000018                     | 0.000012             |
| 16      | 0.000195        | 0.000063                    | 0.000064                     | 0.000043             |
| 32      | 0.001295        | 0.000258                    | 0.000259                     | 0.000176             |
| 64      | 0.004994        | 0.001267                    | 0.001258                     | 0.000749             |
| 128     | 0.021239        | 0.005021                    | 0.005830                     | 0.003441             |
| 256     | 0.091427        | 0.025601                    | 0.026613                     | 0.018417             |
| 512     | 0.255989        | 0.131983                    | 0.123238                     | 0.115229             |
| 1024    | 1.146842        | 0.538035                    | 0.557338                     | 0.759640             |
| 2048    | 4.808548        | 2.592261                    | 2.306600                     | 5.595165             |
| 4096    | 20.190101       | 10.937208                   | 9.588313                     | 45.934461            |


## Spiral Test

![Spiral Test](test_3.svg)

| Links   | iOverlay(Swift) | iOverlay(Rust) MT off       | iOverlay(Rust) MT on         | Clipper2(C++)        |
|---------|-----------------|-----------------------------|------------------------------|----------------------|
| 2       | 0.000006        | 0.000003                    | 0.000003                     | 0.000002             |
| 4       | 0.000010        | 0.000005                    | 0.000005                     | 0.000004             |
| 8       | 0.000019        | 0.000010                    | 0.000010                     | 0.000007             |
| 16      | 0.000040        | 0.000019                    | 0.000020                     | 0.000014             |
| 32      | 0.000095        | 0.000049                    | 0.000051                     | 0.000031             |
| 64      | 0.000218        | 0.000132                    | 0.000134                     | 0.000083             |
| 128     | 0.000490        | 0.000321                    | 0.000308                     | 0.000202             |
| 256     | 0.001105        | 0.000707                    | 0.000713                     | 0.000476             |
| 512     | 0.003385        | 0.001660                    | 0.001686                     | 0.001195             |
| 1024    | 0.006174        | 0.004094                    | 0.003754                     | 0.002941             |
| 2048    | 0.013200        | 0.008523                    | 0.008199                     | 0.007578             |
| 4096    | 0.026065        | 0.016951                    | 0.017006                     | 0.020287             |
| 8192    | 0.055944        | 0.035812                    | 0.036680                     | 0.054647             |
| 16384   | 0.112375        | 0.068933                    | 0.070433                     | 0.181050             |
| 32768   | 0.237412        | 0.146846                    | 0.153460                     | 0.606854             |
| 65536   | 0.473847        | 0.302400                    | 0.316911                     | 2.013809             |
| 131072  | 0.981729        | 0.644797                    | 0.660288                     | 6.547658             |
| 262144  | 1.979541        | 1.303572                    | 1.352219                     | 21.171540            |
| 524288  | 4.101912        | 2.713258                    | 2.735063                     | 72.147615            |
| 1048576 | 8.254108        | 5.482713                    | 5.481889                     | 259.866180           |

## Windows Test

![Windows Test](test_4.svg)

| Squares | iOverlay(Swift) | iOverlay(Rust) MT off       | iOverlay(Rust) MT on         | Clipper2(C++)        |
|---------|-----------------|-----------------------------|------------------------------|----------------------|
| 8       | 0.000016        | 0.000006                    | 0.000006                     | 0.000008             |
| 32      | 0.000062        | 0.000024                    | 0.000023                     | 0.000028             |
| 128     | 0.000276        | 0.000107                    | 0.000105                     | 0.000112             |
| 512     | 0.001306        | 0.000538                    | 0.000530                     | 0.000507             |
| 2048    | 0.005543        | 0.002505                    | 0.002497                     | 0.002454             |
| 8192    | 0.023805        | 0.011416                    | 0.011139                     | 0.012364             |
| 32768   | 0.104822        | 0.054079                    | 0.054134                     | 0.076850             |
| 131072  | 0.445712        | 0.245907                    | 0.236872                     | 0.568316             |
| 524288  | 1.862371        | 1.033249                    | 1.012172                     | 4.142673             |
| 2097152 | 7.657815        | 4.225574                    | 4.151451                     | 33.165570            |
| 8388608 | 30.833973       | 17.682404                   | 16.483871                    | 265.387333           |

## Nested Squares Test

![Nested_Squares Test](test_5.svg)

| Squares  | iOverlay(Swift) | iOverlay(Rust) MT off      | iOverlay(Rust) MT on         | Clipper2(C++)        |
|----------|-----------------|----------------------------|------------------------------|----------------------|
| 4        | 0.000022        | 0.000010                   | 0.000010                     | 0.000012             |
| 8        | 0.000045        | 0.000018                   | 0.000019                     | 0.000023             |
| 16       | 0.000098        | 0.000037                   | 0.000037                     | 0.000050             |
| 32       | 0.000238        | 0.000083                   | 0.000083                     | 0.000118             |
| 64       | 0.000624        | 0.000211                   | 0.000209                     | 0.000291             |
| 128      | 0.001853        | 0.000589                   | 0.000591                     | 0.000806             |
| 256      | 0.002398        | 0.001855                   | 0.001905                     | 0.003415             |
| 512      | 0.005013        | 0.002804                   | 0.002795                     | 0.015989             |
| 1024     | 0.011067        | 0.005819                   | 0.005537                     | 0.081267             |
| 2048     | 0.023194        | 0.011412                   | 0.010977                     | 0.461883             |
| 4096     | 0.050601        | 0.028736                   | 0.030289                     | 2.347209             |
| 8192     | 0.111691        | 0.061248                   | 0.059179                     | 10.612424            |
| 16384    | 0.252357        | 0.166019                   | 0.158096                     | 46.205474            |
| 32768    | 0.581991        | 0.346209                   | 0.331498                     | 251.260857           |
| 65536    | 1.368794        | 1.022073                   | 0.968967                     | 3502.233611          |
| 131072   | 3.250746        | 2.158772                   | 2.095021                     | ----                 |
| 262144   | 8.529555        | 6.832136                   | 6.507479                     | ----                 |
| 524288   | 21.177892       | 14.246658                  | 13.684019                    | ----                 |